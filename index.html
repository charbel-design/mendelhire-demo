<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MendelHire - Proof-First Hiring Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; height: 100%; font-family: 'Inter', sans-serif; background: #0a1628; color: #f0f4f8; }
    #app { display: flex; height: 100vh; overflow: hidden; }
    .sidebar { width: 240px; background: #0d1117; border-right: 1px solid #1e2d3d; display: flex; flex-direction: column; transition: width 0.3s ease; z-index: 100; }
    .sidebar.collapsed { width: 64px; }
    .sidebar-top { padding: 20px; border-bottom: 1px solid #1e2d3d; }
    .sidebar.collapsed .sidebar-top { padding: 16px; display: flex; align-items: center; justify-content: center; }
    .logo { font-size: 18px; font-weight: 700; color: #3b82f6; letter-spacing: -0.5px; }
    .sidebar.collapsed .logo { font-size: 24px; }
    .nav { flex: 1; padding: 20px 0; display: flex; flex-direction: column; gap: 4px; }
    .sidebar.collapsed .nav { padding: 16px 0; align-items: center; }
    .nav-item { padding: 12px 16px; color: #8899a6; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; gap: 12px; border-left: 3px solid transparent; font-size: 14px; font-weight: 500; }
    .sidebar.collapsed .nav-item { padding: 12px; justify-content: center; gap: 0; border-left: none; }
    .nav-item:hover { color: #f0f4f8; background: rgba(59, 130, 246, 0.1); }
    .nav-item.active { color: #3b82f6; border-left-color: #3b82f6; background: rgba(59, 130, 246, 0.1); }
    .sidebar.collapsed .nav-item.active { border-left: none; background: rgba(59, 130, 246, 0.15); }
    .nav-icon { width: 20px; text-align: center; flex-shrink: 0; }
    .sidebar.collapsed .nav-text { display: none; }
    .sidebar-bottom { padding: 16px; border-top: 1px solid #1e2d3d; display: flex; align-items: center; gap: 12px; }
    .sidebar.collapsed .sidebar-bottom { flex-direction: column; gap: 8px; }
    .user-avatar { width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px; flex-shrink: 0; }
    .user-info { flex: 1; }
    .sidebar.collapsed .user-info { display: none; }
    .user-name { font-size: 13px; font-weight: 600; color: #f0f4f8; }
    .user-org { font-size: 12px; color: #8899a6; }
    .collapse-toggle { padding: 12px; background: rgba(59, 130, 246, 0.1); border: 1px solid #1e2d3d; border-radius: 6px; color: #3b82f6; cursor: pointer; transition: all 0.2s ease; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; }
    .collapse-toggle:hover { background: rgba(59, 130, 246, 0.2); }
    .topbar { height: 64px; background: #111d2e; border-bottom: 1px solid #1e2d3d; padding: 0 32px; display: flex; align-items: center; justify-content: space-between; gap: 24px; }
    .topbar-left { display: flex; align-items: center; gap: 32px; flex: 1; }
    .page-title { font-size: 24px; font-weight: 700; color: #f0f4f8; }
    .search-box { background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 8px 12px; width: 280px; color: #f0f4f8; font-size: 14px; transition: all 0.2s ease; }
    .search-box:focus { outline: none; border-color: #3b82f6; background: #0d1520; }
    .topbar-right { display: flex; align-items: center; gap: 16px; }
    .icon-btn { width: 40px; height: 40px; border: 1px solid #1e2d3d; background: rgba(59, 130, 246, 0.1); border-radius: 6px; color: #3b82f6; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; transition: all 0.2s ease; }
    .icon-btn:hover { background: rgba(59, 130, 246, 0.2); border-color: #3b82f6; }
    .icon-btn.notification { position: relative; }
    .notification-dot { position: absolute; top: 6px; right: 6px; width: 8px; height: 8px; background: #ff6b6b; border-radius: 50%; }
    .btn-primary { background: #3b82f6; color: white; border: none; padding: 10px 16px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
    .btn-primary:hover { background: #2563eb; }
    .main-container { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
    .content { flex: 1; overflow-y: auto; padding: 32px; background: linear-gradient(135deg, #0a1628 0%, #0d1520 100%); }
    .content::-webkit-scrollbar { width: 8px; }
    .content::-webkit-scrollbar-track { background: transparent; }
    .content::-webkit-scrollbar-thumb { background: #1e2d3d; border-radius: 4px; }
    .content::-webkit-scrollbar-thumb:hover { background: #2a3a4d; }
    .page { display: none; }
    .page.active { display: block; }
    .card { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 24px; transition: all 0.2s ease; }
    .card:hover { border-color: #2a3a4d; transform: translateY(-2px); }
    .metrics-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 32px; }
    .metric-card { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 20px; text-align: center; }
    .metric-value { font-size: 32px; font-weight: 700; color: #3b82f6; margin: 8px 0; }
    .metric-label { font-size: 13px; color: #8899a6; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
    .section { margin-bottom: 32px; }
    .section-title { font-size: 18px; font-weight: 600; color: #f0f4f8; margin-bottom: 16px; }
    .badge { display: inline-block; padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.3px; }
    .badge-success { background: rgba(78, 205, 196, 0.2); color: #4ecdc4; }
    .badge-primary { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
    .badge-warning { background: rgba(212, 168, 67, 0.2); color: #d4a843; }
    .activity-item { padding: 16px; border-bottom: 1px solid #1e2d3d; display: flex; gap: 12px; align-items: flex-start; }
    .activity-item:last-child { border-bottom: none; }
    .activity-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-top: 6px; }
    .activity-dot.completed { background: #4ecdc4; }
    .activity-dot.generated { background: #3b82f6; }
    .activity-dot.new { background: #d4a843; }
    .activity-content { flex: 1; min-width: 0; }
    .activity-text { font-size: 14px; color: #f0f4f8; margin-bottom: 2px; }
    .activity-time { font-size: 12px; color: #8899a6; }
    .challenge-card { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 24px; margin-bottom: 24px; }
    .challenge-title { font-size: 18px; font-weight: 600; color: #f0f4f8; margin-bottom: 8px; }
    .challenge-meta { display: flex; gap: 16px; font-size: 13px; color: #8899a6; margin-bottom: 16px; }
    .challenge-section { margin-bottom: 20px; }
    .challenge-section-title { font-size: 13px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 8px; }
    .challenge-brief { font-size: 14px; color: #f0f4f8; line-height: 1.6; }
    .criteria-list { font-size: 14px; color: #f0f4f8; line-height: 1.7; list-style: disc; margin-left: 20px; }
    .stack-tags { display: flex; gap: 8px; flex-wrap: wrap; }
    .stack-tag { background: rgba(59, 130, 246, 0.15); color: #3b82f6; padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 600; }
    .challenge-stats { display: flex; gap: 32px; padding-top: 16px; border-top: 1px solid #1e2d3d; }
    .stat { display: flex; gap: 8px; }
    .stat-label { color: #8899a6; font-size: 12px; font-weight: 500; }
    .stat-value { color: #f0f4f8; font-weight: 600; font-size: 14px; }
    .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); z-index: 1000; align-items: center; justify-content: center; }
    .modal-overlay.active { display: flex; }
    .modal { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 12px; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; padding: 32px; }
    .modal-header { font-size: 20px; font-weight: 700; color: #f0f4f8; margin-bottom: 24px; display: flex; justify-content: space-between; align-items: center; }
    .modal-close { background: none; border: none; color: #8899a6; font-size: 24px; cursor: pointer; padding: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; }
    .modal-close:hover { color: #f0f4f8; }
    .form-group { margin-bottom: 20px; }
    .form-label { display: block; font-size: 13px; font-weight: 600; color: #f0f4f8; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.3px; }
    .form-input, .form-textarea, .form-select { width: 100%; background: #0a1628; border: 1px solid #1e2d3d; border-radius: 6px; padding: 10px 12px; color: #f0f4f8; font-size: 14px; font-family: 'Inter', sans-serif; transition: all 0.2s ease; }
    .form-input:focus, .form-textarea:focus, .form-select:focus { outline: none; border-color: #3b82f6; background: #0d1520; }
    .form-textarea { resize: vertical; min-height: 80px; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .checkbox-group { display: flex; flex-direction: column; gap: 12px; margin-top: 12px; }
    .checkbox-item { display: flex; align-items: center; gap: 8px; }
    .checkbox-item input[type="checkbox"] { width: 16px; height: 16px; cursor: pointer; accent-color: #3b82f6; }
    .checkbox-item label { cursor: pointer; font-size: 14px; color: #f0f4f8; }
    .form-actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 32px; padding-top: 24px; border-top: 1px solid #1e2d3d; }
    .btn-secondary { background: transparent; border: 1px solid #1e2d3d; color: #f0f4f8; padding: 10px 16px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
    .btn-secondary:hover { background: rgba(59, 130, 246, 0.1); border-color: #3b82f6; }
    .btn-gold { background: #d4a843; color: #0a1628; padding: 10px 20px; border-radius: 6px; border: none; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
    .btn-gold:hover { background: #e4b853; }
    .candidate-header { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 16px 24px; margin-bottom: 24px; display: flex; align-items: center; justify-content: space-between; }
    .candidate-info { display: flex; align-items: center; gap: 16px; }
    .candidate-avatar { width: 48px; height: 48px; border-radius: 8px; background: linear-gradient(135deg, #4ecdc4, #3b82f6); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 16px; }
    .candidate-details h3 { font-size: 15px; font-weight: 600; color: #f0f4f8; margin-bottom: 4px; }
    .candidate-details p { font-size: 13px; color: #8899a6; }
    .candidate-status { display: flex; align-items: center; gap: 12px; }
    .status-indicator { display: flex; align-items: center; gap: 4px; font-size: 13px; color: #8899a6; }
    .status-indicator.verified { color: #4ecdc4; }
    .status-indicator.live { color: #ff6b6b; }
    .live-dot { width: 6px; height: 6px; background: #ff6b6b; border-radius: 50%; animation: pulse 1s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .timeline-container { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 16px; margin-bottom: 24px; }
    .timeline-bar { display: flex; align-items: center; height: 8px; background: #0a1628; border-radius: 4px; overflow: hidden; position: relative; margin-bottom: 12px; }
    .timeline-progress { height: 100%; background: linear-gradient(90deg, #d4a843, #f4b860); border-radius: 4px; transition: width 0.1s linear; position: relative; }
    .timeline-progress::after { content: ''; position: absolute; top: -4px; right: -4px; width: 16px; height: 16px; background: #d4a843; border-radius: 50%; box-shadow: 0 0 0 3px rgba(212, 168, 67, 0.2); }
    .timeline-pivot { position: absolute; height: 16px; width: 2px; background: #ff6b6b; top: -4px; box-shadow: 0 0 8px rgba(255, 107, 107, 0.6); z-index: 10; }
    .timeline-labels { display: flex; justify-content: space-between; font-size: 12px; color: #8899a6; }
    .session-container { display: grid; grid-template-columns: 1.5fr 1fr; gap: 24px; margin-bottom: 24px; }
    .commit-feed { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; overflow: hidden; }
    .commit-item { padding: 16px; border-bottom: 1px solid #1e2d3d; display: flex; gap: 12px; }
    .commit-item:last-child { border-bottom: none; }
    .commit-marker { width: 8px; height: 8px; border-radius: 50%; background: #3b82f6; margin-top: 5px; flex-shrink: 0; }
    .commit-content { flex: 1; min-width: 0; }
    .commit-time { font-size: 12px; color: #8899a6; margin-bottom: 4px; }
    .commit-msg { font-size: 14px; color: #f0f4f8; font-weight: 500; margin-bottom: 6px; word-break: break-word; }
    .commit-stats { font-size: 12px; color: #8899a6; }
    .commit-item.pivot-marker .commit-marker { background: #ff6b6b; width: 12px; height: 12px; margin-left: -2px; margin-top: 2px; }
    .pivot-label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.3px; color: #ff6b6b; font-weight: 700; margin-bottom: 4px; }
    .stats-panel { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 20px; display: flex; flex-direction: column; gap: 24px; }
    .stats-row { display: flex; justify-content: space-between; align-items: center; padding-bottom: 16px; border-bottom: 1px solid #1e2d3d; }
    .stats-row:last-child { border-bottom: none; padding-bottom: 0; }
    .stats-label { font-size: 13px; color: #8899a6; font-weight: 500; text-transform: uppercase; letter-spacing: 0.3px; }
    .stats-value { font-size: 18px; font-weight: 700; color: #3b82f6; }
    .progress-bar { width: 100%; height: 6px; background: #0a1628; border-radius: 3px; overflow: hidden; margin-top: 6px; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #3b82f6, #4ecdc4); border-radius: 3px; transition: width 0.2s ease; }
    .table-container { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; overflow: hidden; }
    table { width: 100%; border-collapse: collapse; }
    thead tr { border-bottom: 1px solid #1e2d3d; background: #0d1520; }
    th { padding: 16px; text-align: left; font-size: 12px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; }
    tbody tr { border-bottom: 1px solid #1e2d3d; transition: background 0.2s ease; cursor: pointer; }
    tbody tr:hover { background: rgba(59, 130, 246, 0.1); }
    td { padding: 16px; font-size: 14px; color: #f0f4f8; }
    .text-muted { color: #8899a6; font-size: 13px; }
    .fitfolio-container { max-width: 1200px; margin: 0 auto; }
    .fitfolio-header { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 32px; margin-bottom: 24px; text-align: center; }
    .verified-badge { display: inline-block; background: rgba(212, 168, 67, 0.15); border: 2px solid #d4a843; color: #d4a843; padding: 8px 16px; border-radius: 6px; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 16px; }
    .fitfolio-headline { font-size: 22px; font-weight: 700; color: #f0f4f8; line-height: 1.4; }
    .tabs { background: #111d2e; border: 1px solid #1e2d3d; border-bottom: none; border-radius: 8px 8px 0 0; display: flex; gap: 0; }
    .tab { padding: 16px 24px; border-bottom: 2px solid transparent; cursor: pointer; font-size: 14px; font-weight: 600; color: #8899a6; transition: all 0.2s ease; flex: 0 0 auto; }
    .tab:hover { color: #f0f4f8; }
    .tab.active { color: #3b82f6; border-bottom-color: #3b82f6; }
    .tab-content { background: #111d2e; border: 1px solid #1e2d3d; border-top: none; border-radius: 0 0 8px 8px; padding: 32px; display: none; }
    .tab-content.active { display: block; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes spin { to { transform: rotate(360deg); } }
    .skill-radar { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin: 24px 0; }
    .radar-section { text-align: center; }
    .radar-title { font-size: 13px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 16px; }
    .skill-bars { display: flex; flex-direction: column; gap: 16px; }
    .skill-row { display: flex; gap: 12px; align-items: center; }
    .skill-name { font-size: 13px; color: #8899a6; width: 120px; text-align: right; }
    .skill-bar { height: 6px; background: #0a1628; border-radius: 3px; flex: 1; overflow: hidden; }
    .skill-bar-fill { height: 100%; background: linear-gradient(90deg, #3b82f6, #4ecdc4); border-radius: 3px; }
    .skill-score { font-size: 13px; color: #3b82f6; font-weight: 600; width: 40px; }
    .proof-snapshot { background: #0a1628; border: 1px solid #1e2d3d; border-radius: 6px; padding: 16px; margin: 24px 0; }
    .snapshot-stat { font-size: 13px; color: #8899a6; margin-bottom: 8px; }
    .snapshot-link { color: #3b82f6; text-decoration: none; font-weight: 600; }
    .snapshot-link:hover { text-decoration: underline; }
    .widener-results { margin: 24px 0; }
    .widener-item { background: #0a1628; border-left: 3px solid #3b82f6; padding: 16px; margin-bottom: 12px; border-radius: 4px; }
    .widener-title { font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 8px; }
    .widener-score { display: inline-block; background: rgba(59, 130, 246, 0.2); color: #3b82f6; padding: 2px 8px; border-radius: 3px; font-size: 12px; font-weight: 700; margin-left: 8px; }
    .widener-desc { font-size: 13px; color: #8899a6; line-height: 1.6; }
    .curator-note { background: rgba(212, 168, 67, 0.1); border-left: 3px solid #d4a843; padding: 16px; border-radius: 4px; margin: 24px 0; }
    .curator-label { font-size: 12px; font-weight: 600; color: #d4a843; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 8px; }
    .curator-text { font-size: 14px; color: #f0f4f8; line-height: 1.6; }
    .scoring-container { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; max-width: 1400px; margin: 0 auto; }
    .scoring-column { display: flex; flex-direction: column; gap: 16px; }
    .scoring-section { background: #111d2e; border: 1px solid #1e2d3d; border-radius: 8px; padding: 24px; }
    .scoring-title { font-size: 16px; font-weight: 600; color: #f0f4f8; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid #1e2d3d; }
    .dimension { margin-bottom: 24px; }
    .dimension:last-child { margin-bottom: 0; }
    .dimension-label { font-size: 13px; font-weight: 600; color: #f0f4f8; margin-bottom: 8px; }
    .dimension-desc { font-size: 12px; color: #8899a6; margin-bottom: 12px; line-height: 1.5; }
    .slider-container { display: flex; align-items: center; gap: 12px; }
    .slider { flex: 1; height: 6px; -webkit-appearance: none; appearance: none; background: #0a1628; border-radius: 3px; outline: none; cursor: pointer; }
    .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 16px; height: 16px; background: #3b82f6; border-radius: 50%; cursor: pointer; transition: background 0.2s ease; }
    .slider::-webkit-slider-thumb:hover { background: #2563eb; }
    .slider::-moz-range-thumb { width: 16px; height: 16px; background: #3b82f6; border-radius: 50%; cursor: pointer; border: none; transition: background 0.2s ease; }
    .slider::-moz-range-thumb:hover { background: #2563eb; }
    .slider-value { font-size: 16px; font-weight: 700; color: #3b82f6; width: 30px; text-align: right; }
    .comparison-row { display: flex; gap: 12px; align-items: center; margin-bottom: 16px; }
    .comparison-label { font-size: 12px; color: #8899a6; width: 100px; }
    .comparison-bars { flex: 1; display: flex; gap: 8px; height: 24px; }
    .bar-your { background: #3b82f6; border-radius: 3px; transition: width 0.3s ease; min-width: 24px; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 600; }
    .bar-ai { background: #4ecdc4; border-radius: 3px; transition: width 0.3s ease; min-width: 24px; display: flex; align-items: center; justify-content: center; color: #0a1628; font-size: 11px; font-weight: 600; }
    .ai-note { background: rgba(78, 205, 196, 0.1); border-left: 3px solid #4ecdc4; padding: 12px; border-radius: 4px; font-size: 12px; color: #8899a6; line-height: 1.5; margin-top: 16px; }
    .filter-bar { display: flex; gap: 16px; margin-bottom: 24px; align-items: center; flex-wrap: wrap; }
    .filter-group { display: flex; gap: 8px; align-items: center; }
    .filter-label { font-size: 13px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; }
    .form-select { background: #111d2e; border: 1px solid #1e2d3d; color: #f0f4f8; }
    .toggle-switch { display: inline-flex; align-items: center; gap: 8px; cursor: pointer; }
    .toggle-box { width: 40px; height: 24px; background: #0a1628; border: 1px solid #1e2d3d; border-radius: 12px; padding: 2px; transition: all 0.2s ease; display: flex; align-items: center; }
    .toggle-box.active { background: #3b82f6; border-color: #3b82f6; }
    .toggle-dot { width: 18px; height: 18px; background: white; border-radius: 50%; transition: transform 0.2s ease; }
    .toggle-box.active .toggle-dot { transform: translateX(16px); }
    .success-modal { text-align: center; }
    .success-icon { font-size: 48px; margin-bottom: 16px; }
    .success-modal h2 { font-size: 20px; font-weight: 700; color: #f0f4f8; margin-bottom: 12px; }
    .success-modal p { font-size: 14px; color: #8899a6; margin-bottom: 24px; }
    @media (max-width: 1200px) { .metrics-grid { grid-template-columns: repeat(2, 1fr); } .session-container { grid-template-columns: 1fr; } .scoring-container { grid-template-columns: 1fr; } .skill-radar { grid-template-columns: 1fr; } }
    @media (max-width: 768px) { .sidebar { width: 64px; } .topbar { padding: 0 16px; } .content { padding: 16px; } .metrics-grid { grid-template-columns: 1fr 1fr; gap: 12px; } .metric-card { padding: 16px; } .metric-value { font-size: 24px; } .search-box { width: 200px; } }
  </style>
</head>
<body>
  <div id="app">
    <div class="sidebar" id="sidebar">
      <div class="sidebar-top">
        <div class="logo">MH</div>
      </div>
      <nav class="nav" id="nav">
        <div class="nav-item active" data-page="dashboard">
          <div class="nav-icon">üìä</div>
          <div class="nav-text">Dashboard</div>
        </div>
        <div class="nav-item" data-page="challenges">
          <div class="nav-icon">üéØ</div>
          <div class="nav-text">Challenges</div>
        </div>
        <div class="nav-item" data-page="candidates">
          <div class="nav-icon">üë•</div>
          <div class="nav-text">Candidates</div>
        </div>
        <div class="nav-item" data-page="scoring">
          <div class="nav-icon">‚≠ê</div>
          <div class="nav-text">Scoring</div>
        </div>
        <div class="nav-item" data-page="settings">
          <div class="nav-icon">‚öôÔ∏è</div>
          <div class="nav-text">Settings</div>
        </div>
      </nav>
      <div class="sidebar-bottom">
        <div class="user-avatar">CA</div>
        <div class="user-info">
          <div class="user-name">Charbel A.</div>
          <div class="user-org">Talent Gurus</div>
        </div>
        <button class="collapse-toggle" id="collapseToggle">‚Üê</button>
      </div>
    </div>
    <div class="main-container">
      <div class="topbar">
        <div class="topbar-left">
          <div class="page-title" id="pageTitle">Dashboard</div>
          <input type="text" class="search-box" placeholder="Search candidates, challenges...">
        </div>
        <div class="topbar-right">
          <button class="icon-btn notification">
            üîî
            <div class="notification-dot"></div>
          </button>
          <button class="btn-primary" id="createChallengeBtn">+ Create Challenge</button>
        </div>
      </div>
      <div class="content" id="content">
        <!-- DASHBOARD PAGE -->
        <div class="page active" id="page-dashboard">
          <div class="section">
            <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 8px;">Good morning, Charbel</h2>
            <p style="color: #8899a6; font-size: 14px; margin-bottom: 24px;" id="currentDate"></p>
          </div>
          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-label">Active Challenges</div>
              <div class="metric-value">2</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">Candidates in Pipeline</div>
              <div class="metric-value">12</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">Proofs Completed</div>
              <div class="metric-value">8</div>
            </div>
            <div class="metric-card">
              <div class="metric-label">Avg Score</div>
              <div class="metric-value" style="color: #4ecdc4;">3.9<span style="font-size: 18px;color: #8899a6;">/5</span></div>
            </div>
          </div>
          <div class="section">
            <h3 class="section-title">Active Challenges</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
              <div class="card">
                <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #f0f4f8;">Frontend React ‚Äî Search + Accessibility Pivot</h4>
                <p style="color: #8899a6; font-size: 13px; margin-bottom: 16px;">Build product list with client-side search, category filter, and keyboard navigation.</p>
                <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                  <div class="stack-tag">React</div>
                  <div class="stack-tag">TypeScript</div>
                </div>
                <div style="display: flex; gap: 24px; font-size: 13px; color: #8899a6; padding-top: 16px; border-top: 1px solid #1e2d3d;">
                  <span>‚è±Ô∏è 120 min</span>
                  <span>üí∞ $100</span>
                  <span>üë• 3 in progress</span>
                  <span>‚úì 2 scored</span>
                </div>
              </div>
              <div class="card">
                <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #f0f4f8;">Data Python/SQL ‚Äî Retention Cohorts</h4>
                <p style="color: #8899a6; font-size: 13px; margin-bottom: 16px;">Analyze CSV, build monthly cohort retention chart + insights. Pivot: redefine cohorts.</p>
                <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                  <div class="stack-tag">Python</div>
                  <div class="stack-tag">SQL</div>
                </div>
                <div style="display: flex; gap: 24px; font-size: 13px; color: #8899a6; padding-top: 16px; border-top: 1px solid #1e2d3d;">
                  <span>‚è±Ô∏è 120 min</span>
                  <span>üí∞ $100</span>
                  <span>üë• 1 in progress</span>
                  <span>‚úì 1 scored</span>
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <h3 class="section-title">Recent Activity</h3>
            <div class="card">
              <div class="activity-item">
                <div class="activity-dot completed"></div>
                <div class="activity-content">
                  <div class="activity-text">Sarah Chen completed proof ‚Äî <strong>Frontend React</strong></div>
                  <div class="activity-time">2 hours ago</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-dot generated"></div>
                <div class="activity-content">
                  <div class="activity-text">FitFolio generated for <strong>Marcus Johnson</strong></div>
                  <div class="activity-time">5 hours ago</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-dot new"></div>
                <div class="activity-content">
                  <div class="activity-text">New application: <strong>Priya Patel</strong> ‚Äî Frontend React</div>
                  <div class="activity-time">1 day ago</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-dot completed"></div>
                <div class="activity-content">
                  <div class="activity-text">Alex Rivera scored 4.2/5 ‚Äî <strong>Data Python/SQL</strong></div>
                  <div class="activity-time">2 days ago</div>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-dot generated"></div>
                <div class="activity-content">
                  <div class="activity-text">Proof session started: <strong>Jordan Lee</strong> ‚Äî Frontend React</div>
                  <div class="activity-time">Just now</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- CHALLENGES PAGE -->
        <div class="page" id="page-challenges">
          <div class="section">
            <h3 class="section-title">Active Challenges</h3>
            <div class="challenge-card">
              <div class="challenge-header">
                <h4 class="challenge-title">Frontend React ‚Äî Search + Accessibility Pivot</h4>
                <div class="challenge-meta">
                  <span>‚è±Ô∏è 120 minutes</span>
                  <span>üí∞ $100 stipend</span>
                  <span>React / TypeScript</span>
                </div>
              </div>
              <div class="challenge-section">
                <div class="challenge-section-title">Brief</div>
                <p class="challenge-brief">Build a product list component with client-side search and category filter. At minute 60, the pivot is triggered: add keyboard navigation and ARIA labels for all controls.</p>
              </div>
              <div class="challenge-section">
                <div class="challenge-section-title">Acceptance Criteria</div>
                <ul class="criteria-list">
                  <li>Real-time search filters products by name/description</li>
                  <li>Category filter composes cleanly with search filter</li>
                  <li>Keyboard navigation: Tab, Shift+Tab, Enter keys work</li>
                  <li>ARIA labels on search input and category dropdown</li>
                  <li>Basic unit tests for filter and search logic</li>
                </ul>
              </div>
              <div class="challenge-section">
                <div class="challenge-section-title">Pivot Specification</div>
                <p class="challenge-brief" style="background: rgba(255, 107, 107, 0.1); padding: 12px; border-radius: 4px; border-left: 3px solid #ff6b6b;">At 60 minutes: "Add keyboard navigation and ARIA labels for all controls. Focus on accessibility best practices. Justify your implementation choices in the README."</p>
              </div>
              <div class="challenge-stats">
                <div class="stat"><div class="stat-label">In Progress</div><div class="stat-value">3</div></div>
                <div class="stat"><div class="stat-label">Scored</div><div class="stat-value">2</div></div>
                <div class="stat"><div class="stat-label">FitFolio Ready</div><div class="stat-value">1</div></div>
              </div>
            </div>
            <div class="challenge-card">
              <div class="challenge-header">
                <h4 class="challenge-title">Data Python/SQL ‚Äî Retention Cohorts</h4>
                <div class="challenge-meta">
                  <span>‚è±Ô∏è 120 minutes</span>
                  <span>üí∞ $100 stipend</span>
                  <span>Python / SQL</span>
                </div>
              </div>
              <div class="challenge-section">
                <div class="challenge-section-title">Brief</div>
                <p class="challenge-brief">Analyze a CSV of user events. Create a monthly cohort retention chart (Month 0, 1, 2...) and provide 5 key insights. At minute 60, pivot: redefine cohorts by first paid event instead of signup date.</p>
              </div>
              <div class="challenge-section">
                <div class="challenge-section-title">Acceptance Criteria</div>
                <ul class="criteria-list">
                  <li>Cohort retention analysis by month</li>
                  <li>Clear visualization (table or chart format)</li>
                  <li>5 bullet-point insights from the data</li>
                  <li>Code is readable and documented</li>
                  <li>Pivot response shows flexibility and SQL skill</li>
                </ul>
              </div>
              <div class="challenge-stats">
                <div class="stat"><div class="stat-label">In Progress</div><div class="stat-value">1</div></div>
                <div class="stat"><div class="stat-label">Scored</div><div class="stat-value">1</div></div>
                <div class="stat"><div class="stat-label">FitFolio Ready</div><div class="stat-value">0</div></div>
              </div>
            </div>
          </div>
        </div>

        <!-- LIVE SESSION PAGE -->
        <div class="page" id="page-live-session">
          <div class="candidate-header">
            <div class="candidate-info">
              <div class="candidate-avatar">JL</div>
              <div class="candidate-details">
                <h3>Candidate #MH-2845</h3>
                <p>Frontend React ‚Äî Search + Accessibility Pivot</p>
              </div>
            </div>
            <div class="candidate-status">
              <span class="badge badge-success">IN PROGRESS</span>
              <span class="status-indicator verified">‚úì Identity</span>
              <span class="status-indicator live">
                <div class="live-dot"></div>
                Loom Recording
              </span>
            </div>
          </div>
          <div class="timeline-container">
            <div class="timeline-bar">
              <div class="timeline-progress" id="timelineProgress" style="width: 0%;"></div>
              <div class="timeline-pivot" id="timelinePivot" style="left: 50%;"></div>
            </div>
            <div class="timeline-labels">
              <span>0 min</span>
              <span id="timelineTime">0 min</span>
              <span>120 min</span>
            </div>
          </div>
          <div class="session-container">
            <div class="commit-feed" id="commitFeed">
              <div style="padding: 16px; text-align: center; color: #8899a6;">
                Click "Start Session" below to begin streaming commits...
              </div>
            </div>
            <div class="stats-panel">
              <div class="stats-row">
                <span class="stats-label">Commits</span>
                <span class="stats-value" id="commitCount">0</span>
              </div>
              <div class="stats-row">
                <span class="stats-label">Lines Changed</span>
                <span class="stats-value" id="linesChanged">0</span>
              </div>
              <div class="stats-row">
                <span class="stats-label">Test Coverage</span>
                <div style="flex: 1;">
                  <div class="progress-bar">
                    <div class="progress-fill" id="testCoverage" style="width: 0%;"></div>
                  </div>
                  <span class="stats-value" style="display: inline-block; margin-top: 8px;" id="testCoveragePercent">0%</span>
                </div>
              </div>
              <div class="stats-row">
                <span class="stats-label">Time Remaining</span>
                <span class="stats-value" id="timeRemaining">120m</span>
              </div>
              <div class="stats-row">
                <span class="stats-label">Phase</span>
                <span class="stats-value" id="phase" style="color: #4ecdc4; font-size: 14px;">Pre-Pivot</span>
              </div>
            </div>
          </div>
          <div style="display: flex; gap: 12px; margin-bottom: 24px;">
            <button class="btn-primary" id="startSessionBtn">Start Session</button>
            <button class="btn-secondary" id="pauseSessionBtn" style="display: none;">Pause</button>
            <button class="btn-secondary" id="resetSessionBtn">Reset</button>
          </div>
        </div>

        <!-- CANDIDATES PAGE -->
        <div class="page" id="page-candidates">
          <div class="filter-bar">
            <div class="filter-group">
              <input type="text" class="form-input" style="width: 200px;" placeholder="Search candidates...">
            </div>
            <div class="filter-group">
              <span class="filter-label">Status</span>
              <select class="form-select" style="width: 150px;">
                <option>All</option>
                <option>In Progress</option>
                <option>Scored</option>
                <option>FitFolio Ready</option>
              </select>
            </div>
            <div class="filter-group">
              <span class="filter-label">Challenge</span>
              <select class="form-select" style="width: 180px;">
                <option>All</option>
                <option>Frontend React</option>
                <option>Data Python/SQL</option>
              </select>
            </div>
            <div style="margin-left: auto;">
              <label class="toggle-switch">
                <span style="font-size: 13px; font-weight: 600; color: #8899a6;">Anonymized Mode</span>
                <div class="toggle-box active" id="anonToggle">
                  <div class="toggle-dot"></div>
                </div>
              </label>
            </div>
          </div>
          <div class="table-container">
            <table id="candidateTable">
              <thead>
                <tr>
                  <th>Candidate</th>
                  <th>Challenge</th>
                  <th>Status</th>
                  <th>Score</th>
                  <th>Wideners</th>
                  <th>Stack</th>
                  <th>Verified</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="candidateBody">
              </tbody>
            </table>
          </div>
        </div>

        <!-- FITFOLIO PAGE (kept for direct nav) -->
        <div class="page" id="page-fitfolio">
          <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #8899a6; font-size: 16px;">Select a candidate from the pipeline to view their FitFolio.</div>
        </div>



        <!-- SCORING PAGE -->
        <div class="page" id="page-scoring">
          <div class="candidate-header">
            <div class="candidate-info">
              <div class="candidate-avatar">SC</div>
              <div class="candidate-details">
                <h3>Candidate #MH-2841</h3>
                <p>Frontend React ‚Äî Search + Accessibility Pivot</p>
              </div>
            </div>
            <span class="badge badge-primary">READY FOR REVIEW</span>
          </div>
          <div class="scoring-container">
            <div class="scoring-column">
              <div class="scoring-section">
                <h3 class="scoring-title">Stack Dimensions</h3>
                <div class="dimension">
                  <div class="dimension-label">Correctness & Edge Cases</div>
                  <div class="dimension-desc">Does the code handle expected and edge-case inputs correctly?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="4" class="slider score-slider">
                    <span class="slider-value">4</span>
                  </div>
                </div>
                <div class="dimension">
                  <div class="dimension-label">Accessibility Quality</div>
                  <div class="dimension-desc">Are ARIA labels meaningful? Does keyboard nav work?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="5" class="slider score-slider">
                    <span class="slider-value">5</span>
                  </div>
                </div>
                <div class="dimension">
                  <div class="dimension-label">Code/Analysis Clarity</div>
                  <div class="dimension-desc">Is the code readable, well-structured, documented?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="4" class="slider score-slider">
                    <span class="slider-value">4</span>
                  </div>
                </div>
              </div>
              <div class="scoring-section">
                <h3 class="scoring-title">Trait Dimensions</h3>
                <div class="dimension">
                  <div class="dimension-label">Ownership</div>
                  <div class="dimension-desc">Did the candidate follow instructions and handle the pivot?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="4" class="slider score-slider">
                    <span class="slider-value">4</span>
                  </div>
                </div>
                <div class="dimension">
                  <div class="dimension-label">Problem-Solving</div>
                  <div class="dimension-desc">Were tradeoffs surfaced and decisions explained?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="4" class="slider score-slider">
                    <span class="slider-value">4</span>
                  </div>
                </div>
                <div class="dimension">
                  <div class="dimension-label">Communication</div>
                  <div class="dimension-desc">Is the README clear? Is the Loom walkthrough coherent?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="5" class="slider score-slider">
                    <span class="slider-value">5</span>
                  </div>
                </div>
              </div>
              <div class="scoring-section">
                <h3 class="scoring-title">Widener Scores</h3>
                <div class="dimension">
                  <div class="dimension-label">Product Sense</div>
                  <div class="dimension-desc">Did they define success metrics and consider user scenarios?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="4" class="slider score-slider">
                    <span class="slider-value">4</span>
                  </div>
                </div>
                <div class="dimension">
                  <div class="dimension-label">Communication & Documentation</div>
                  <div class="dimension-desc">Is the README written for a new teammate?</div>
                  <div class="slider-container">
                    <input type="range" min="1" max="5" value="5" class="slider score-slider">
                    <span class="slider-value">5</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="scoring-column">
              <div class="scoring-section">
                <h3 class="scoring-title">AI Pre-Score Comparison</h3>
                <p style="font-size: 13px; color: #8899a6; margin-bottom: 20px;">Compare your scores vs. AI's initial assessment.</p>
                <div style="display: flex; flex-direction: column; gap: 20px;">
                  <div class="comparison-row">
                    <div class="comparison-label">Correctness</div>
                    <div class="comparison-bars">
                      <div class="bar-your" style="width: 80%;">4</div>
                      <div class="bar-ai" style="width: 60%;">3</div>
                    </div>
                  </div>
                  <div class="comparison-row">
                    <div class="comparison-label">Accessibility</div>
                    <div class="comparison-bars">
                      <div class="bar-your" style="width: 100%;">5</div>
                      <div class="bar-ai" style="width: 80%;">4</div>
                    </div>
                  </div>
                  <div class="comparison-row">
                    <div class="comparison-label">Code Clarity</div>
                    <div class="comparison-bars">
                      <div class="bar-your" style="width: 80%;">4</div>
                      <div class="bar-ai" style="width: 80%;">4</div>
                    </div>
                  </div>
                  <div class="comparison-row">
                    <div class="comparison-label">Ownership</div>
                    <div class="comparison-bars">
                      <div class="bar-your" style="width: 80%;">4</div>
                      <div class="bar-ai" style="width: 80%;">4</div>
                    </div>
                  </div>
                  <div class="comparison-row">
                    <div class="comparison-label">Problem-Solving</div>
                    <div class="comparison-bars">
                      <div class="bar-your" style="width: 80%;">4</div>
                      <div class="bar-ai" style="width: 60%;">3</div>
                    </div>
                  </div>
                  <div class="comparison-row">
                    <div class="comparison-label">Communication</div>
                    <div class="comparison-bars">
                      <div class="bar-your" style="width: 100%;">5</div>
                      <div class="bar-ai" style="width: 80%;">4</div>
                    </div>
                  </div>
                </div>
                <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid #1e2d3d;">
                  <div style="font-size: 13px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 12px;">Overall Score</div>
                  <div style="display: flex; align-items: baseline; gap: 16px;">
                    <div style="font-size: 28px; font-weight: 700; color: #3b82f6;">4.2<span style="font-size: 18px; color: #8899a6;">/5</span></div>
                  </div>
                </div>
              </div>
              <button class="btn-gold" id="generateFitfolioBtn" style="width: 100%; padding: 16px; font-size: 15px;">Generate FitFolio ‚Üí</button>
            </div>
          </div>
        </div>

        <!-- SETTINGS PAGE -->
        <div class="page" id="page-settings">
          <div class="section" style="max-width: 800px;">
            <h3 class="section-title">Team Members</h3>
            <div class="card">
              <div style="display: flex; align-items: center; gap: 16px; padding-bottom: 16px; border-bottom: 1px solid #1e2d3d;">
                <div style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">CA</div>
                <div>
                  <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Charbel Atala</div>
                  <div style="font-size: 12px; color: #8899a6;">Admin ‚Ä¢ Talent Gurus</div>
                </div>
                <div style="margin-left: auto; font-size: 12px; color: #8899a6;">you@example.com</div>
              </div>
              <div style="display: flex; align-items: center; gap: 16px; padding: 16px 0; border-bottom: 1px solid #1e2d3d;">
                <div style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #4ecdc4, #3b82f6); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">MJ</div>
                <div>
                  <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Maya Johnson</div>
                  <div style="font-size: 12px; color: #8899a6;">Reviewer ‚Ä¢ Talent Gurus</div>
                </div>
                <div style="margin-left: auto; font-size: 12px; color: #8899a6;">maya@example.com</div>
              </div>
            </div>
          </div>
          <div class="section" style="max-width: 800px;">
            <h3 class="section-title">Integrations</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
              <div class="card">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                  <span style="font-size: 24px;">üêô</span>
                  <div style="flex: 1;">
                    <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">GitHub OAuth</div>
                    <div style="font-size: 12px; color: #8899a6;">Connect repos</div>
                  </div>
                </div>
                <div style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: #4ecdc4; font-weight: 600;">
                  ‚úì Connected
                </div>
              </div>
              <div class="card">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                  <span style="font-size: 24px;">üí≥</span>
                  <div style="flex: 1;">
                    <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Stripe Payouts</div>
                    <div style="font-size: 12px; color: #8899a6;">Send stipends</div>
                  </div>
                </div>
                <div style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: #4ecdc4; font-weight: 600;">
                  ‚úì Connected
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODALS -->
  <div class="modal-overlay" id="createChallengeModal">
    <div class="modal" style="max-width: 900px;">
      <div class="modal-header">
        <span>Create New Challenge</span>
        <button class="modal-close" id="closeModalBtn">‚úï</button>
      </div>

      <!-- STEP 1: Role Selection -->
      <div id="challengeStep1">
        <p style="font-size: 14px; color: #8899a6; margin-bottom: 24px;">Select the role you're hiring for. MendelHire will generate a tailored proof challenge with brief, acceptance criteria, pivot, and rubric.</p>
        <div class="form-row">
          <div class="form-group" style="flex: 2;">
            <label class="form-label">Role</label>
            <select class="form-select" id="roleSelect" style="font-size: 15px; padding: 12px;">
              <option value="">Select a role...</option>
              <option value="frontend">Frontend Engineer</option>
              <option value="backend">Backend Engineer</option>
              <option value="fullstack">Full-Stack Engineer</option>
              <option value="data">Data Engineer / Analyst</option>
              <option value="devops">DevOps / Infrastructure</option>
              <option value="ai-ml">AI / ML Engineer</option>
            </select>
          </div>
          <div class="form-group" style="flex: 1;">
            <label class="form-label">Seniority</label>
            <select class="form-select" id="senioritySelect" style="font-size: 15px; padding: 12px;">
              <option value="mid">Mid-Level</option>
              <option value="senior" selected>Senior</option>
              <option value="staff">Staff+</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Focus Area <span style="color: #8899a6; font-weight: 400;">(optional)</span></label>
          <input type="text" class="form-input" id="focusInput" placeholder="e.g., accessibility, real-time systems, data pipelines..." style="font-size: 14px; padding: 12px;">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Time Cap</label>
            <select class="form-select" id="timeCapSelect">
              <option>90 minutes</option>
              <option selected>120 minutes</option>
              <option>150 minutes</option>
              <option>180 minutes</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Stipend</label>
            <select class="form-select" id="stipendSelect">
              <option selected>$100</option>
              <option>$150</option>
              <option>$200</option>
            </select>
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="btn-secondary" id="cancelBtn">Cancel</button>
          <button type="button" class="btn-primary" id="generateChallengeBtn" style="padding: 12px 24px; font-size: 15px;">Generate Challenge ‚Üí</button>
        </div>
      </div>

      <!-- STEP 2: AI Generating -->
      <div id="challengeStep2" style="display: none; text-align: center; padding: 48px 0;">
        <div id="aiSpinner" style="width: 48px; height: 48px; border: 3px solid #1e2d3d; border-top-color: #3b82f6; border-radius: 50%; margin: 0 auto 24px; animation: spin 0.8s linear infinite;"></div>
        <div style="font-size: 18px; font-weight: 600; color: #f0f4f8; margin-bottom: 8px;">Generating challenge...</div>
        <div id="aiStatusText" style="font-size: 14px; color: #8899a6;">Analyzing role requirements</div>
      </div>

      <!-- STEP 3: Generated Result (editable) -->
      <div id="challengeStep3" style="display: none;">
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 20px; padding: 12px 16px; background: rgba(78, 205, 196, 0.1); border: 1px solid rgba(78, 205, 196, 0.3); border-radius: 8px;">
          <span style="color: #4ecdc4; font-size: 18px;">‚ú¶</span>
          <span style="font-size: 13px; color: #4ecdc4;">AI-generated challenge ‚Äî review and edit before publishing</span>
        </div>
        <div class="form-group">
          <label class="form-label">Challenge Title</label>
          <input type="text" class="form-input" id="genTitle" style="font-size: 15px; font-weight: 600; padding: 12px;">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Stack</label>
            <input type="text" class="form-input" id="genStack">
          </div>
          <div class="form-group">
            <label class="form-label">Time / Stipend</label>
            <input type="text" class="form-input" id="genMeta" readonly style="color: #8899a6;">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Brief</label>
          <textarea class="form-textarea" id="genBrief" style="min-height: 80px; font-size: 14px; line-height: 1.6;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Acceptance Criteria</label>
          <textarea class="form-textarea" id="genCriteria" style="min-height: 80px; font-size: 14px; line-height: 1.6;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label" style="color: #d4a843;">Pivot Specification <span style="font-weight: 400;">(triggered at midpoint)</span></label>
          <textarea class="form-textarea" id="genPivot" style="min-height: 48px; font-size: 14px; line-height: 1.6; border-color: rgba(212, 168, 67, 0.3);"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Wideners <span style="font-weight: 400; color: #8899a6;">(candidate picks 2)</span></label>
          <div class="checkbox-group" id="genWideners">
            <div class="checkbox-item"><input type="checkbox" id="w1" checked><label for="w1">Product Sense ‚Äî define success metrics and tradeoffs</label></div>
            <div class="checkbox-item"><input type="checkbox" id="w2" checked><label for="w2">Communication & Documentation ‚Äî write the README for a new teammate</label></div>
            <div class="checkbox-item"><input type="checkbox" id="w3" checked><label for="w3">Collaboration ‚Äî submit a PR review on a sample pull request</label></div>
            <div class="checkbox-item"><input type="checkbox" id="w4" checked><label for="w4">Customer Empathy ‚Äî rewrite the task as a user story with acceptance tests</label></div>
            <div class="checkbox-item"><input type="checkbox" id="w5" checked><label for="w5">Diagnostics ‚Äî 15-minute log of what failed and what was tried</label></div>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Rubric Preview</label>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
            <div style="background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 16px;">
              <div style="font-size: 12px; font-weight: 600; color: #3b82f6; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px;">Stack Dimensions</div>
              <div id="genRubricStack" style="display: flex; flex-direction: column; gap: 6px; font-size: 13px; color: #8899a6;"></div>
            </div>
            <div style="background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 16px;">
              <div style="font-size: 12px; font-weight: 600; color: #d4a843; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px;">Trait Dimensions</div>
              <div style="display: flex; flex-direction: column; gap: 6px; font-size: 13px; color: #8899a6;">
                <div>‚Ä¢ Ownership ‚Äî followed instructions and handled pivot</div>
                <div>‚Ä¢ Problem-Solving ‚Äî tradeoffs surfaced and explained</div>
                <div>‚Ä¢ Communication ‚Äî README and Loom clarity</div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-actions" style="margin-top: 24px;">
          <button type="button" class="btn-secondary" id="regenerateBtn">‚Üª Regenerate</button>
          <button type="button" class="btn-primary" id="publishChallengeBtn" style="padding: 12px 24px; font-size: 15px; background: #4ecdc4;">Publish Challenge</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="fitfolioSuccessModal">
    <div class="modal">
      <div class="success-modal">
        <div class="success-icon">‚úì</div>
        <h2>FitFolio Generated</h2>
        <p>FitFolio for Candidate #MH-2841 has been generated and is now available in the Candidates pipeline.</p>
        <div style="display: flex; gap: 12px; justify-content: center;">
          <button class="btn-secondary" id="closeFitfolioSuccess">Close</button>
          <button class="btn-primary">View in Pipeline ‚Üí</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FITFOLIO DETAIL MODAL -->
  <div class="modal-overlay" id="fitfolioModal">
    <div class="modal" style="max-width: 960px; max-height: 92vh;">
      <div class="modal-header">
        <span id="fitfolioModalTitle">FitFolio ‚Äî Candidate</span>
        <button class="modal-close" id="closeFitfolioModal">‚úï</button>
      </div>
      <div class="fitfolio-container">
        <div class="fitfolio-header" style="margin-bottom: 20px;">
          <div class="verified-badge">‚úì VERIFIED CRAFT BADGE</div>
          <div class="fitfolio-headline" id="fitfolioHeadline">Senior React engineer. Nails accessibility under pressure. Writes documentation for humans, not machines.</div>
        </div>
        <div class="tabs" id="fitfolioTabs">
          <div class="tab active" data-tab="hm-card">Hiring Manager Card</div>
          <div class="tab" data-tab="ats-factsheet">ATS & LLM Factsheet</div>
          <div class="tab" data-tab="portfolio">Portfolio Page</div>
        </div>
        <!-- HM CARD TAB -->
        <div class="tab-content active" id="tab-hm-card">
          <div class="skill-radar">
            <div class="radar-section">
              <div class="radar-title">Stack Skills</div>
              <div class="skill-bars" id="fitfolioStackBars">
                <div class="skill-row"><span class="skill-name">Correctness</span><div class="skill-bar"><div class="skill-bar-fill" style="width: 84%;"></div></div><span class="skill-score">4.2</span></div>
                <div class="skill-row"><span class="skill-name">Accessibility</span><div class="skill-bar"><div class="skill-bar-fill" style="width: 96%;"></div></div><span class="skill-score">4.8</span></div>
                <div class="skill-row"><span class="skill-name">Code Clarity</span><div class="skill-bar"><div class="skill-bar-fill" style="width: 80%;"></div></div><span class="skill-score">4.0</span></div>
              </div>
            </div>
            <div class="radar-section">
              <div class="radar-title">Trait Scores</div>
              <div class="skill-bars" id="fitfolioTraitBars">
                <div class="skill-row"><span class="skill-name">Ownership</span><div class="skill-bar"><div class="skill-bar-fill" style="width: 80%;"></div></div><span class="skill-score">4.0</span></div>
                <div class="skill-row"><span class="skill-name">Problem-Solving</span><div class="skill-bar"><div class="skill-bar-fill" style="width: 84%;"></div></div><span class="skill-score">4.2</span></div>
                <div class="skill-row"><span class="skill-name">Communication</span><div class="skill-bar"><div class="skill-bar-fill" style="width: 92%;"></div></div><span class="skill-score">4.6</span></div>
              </div>
            </div>
          </div>
          <div class="proof-snapshot">
            <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 12px;">Proof Snapshot</div>
            <div class="snapshot-stat">Challenge: <strong style="color: #f0f4f8;">Frontend React ‚Äî Search + Accessibility Pivot</strong></div>
            <div class="snapshot-stat">Duration: <strong style="color: #f0f4f8;">118 min</strong> of 120 min</div>
            <div class="snapshot-stat">Commits: <strong style="color: #f0f4f8;">18</strong> ‚Ä¢ Lines: <strong style="color: #f0f4f8;">1,094</strong></div>
            <div class="snapshot-stat">Pivot response time: <strong style="color: #f0f4f8;">5 min</strong> (first commit after pivot)</div>
            <div class="snapshot-stat" style="margin-top: 8px;"><a href="#" class="snapshot-link">View full proof timeline ‚Üí</a></div>
          </div>
          <div class="widener-results">
            <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 12px;">Widener Results</div>
            <div class="widener-item">
              <div class="widener-title">Product Sense <span class="widener-score">4.0/5</span></div>
              <div class="widener-desc">Defined clear success metrics: search latency &lt;100ms, filter accuracy 100%, keyboard-only navigation complete. Considered mobile vs desktop UX tradeoffs and proposed progressive enhancement strategy.</div>
            </div>
            <div class="widener-item">
              <div class="widener-title">Communication <span class="widener-score">4.5/5</span></div>
              <div class="widener-desc">README is structured for a new teammate joining the project. Documents accessibility decisions with references to WCAG 2.1 guidelines. Loom walkthrough covers architecture decisions and demonstrates keyboard navigation live.</div>
            </div>
          </div>
          <div class="curator-note">
            <div class="curator-label">Curator Note</div>
            <div class="curator-text">Strong pivot response ‚Äî candidate immediately understood the accessibility requirements and prioritized keyboard navigation before ARIA labels. README quality is above average. One minor gap: no mention of screen reader testing strategy.</div>
          </div>
          <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 8px;">Ask Me About</div>
          <div style="display: flex; gap: 8px; flex-wrap: wrap;">
            <div class="stack-tag" style="background: rgba(78, 205, 196, 0.15); color: #4ecdc4;">Accessibility patterns</div>
            <div class="stack-tag" style="background: rgba(78, 205, 196, 0.15); color: #4ecdc4;">React performance</div>
            <div class="stack-tag" style="background: rgba(78, 205, 196, 0.15); color: #4ecdc4;">Component testing</div>
            <div class="stack-tag" style="background: rgba(78, 205, 196, 0.15); color: #4ecdc4;">Progressive enhancement</div>
          </div>
        </div>
        <!-- ATS FACTSHEET TAB -->
        <div class="tab-content" id="tab-ats-factsheet">
          <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 16px;">Five Verifiable Facts</div>
          <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 24px;">
            <div style="display: flex; gap: 12px; align-items: flex-start;"><span style="color: #4ecdc4; font-weight: 700; flex-shrink: 0;">1.</span><span style="font-size: 14px; color: #f0f4f8; line-height: 1.6;">Completed a 120-minute timed proof building a React SearchFilter component with client-side search and category filtering.</span></div>
            <div style="display: flex; gap: 12px; align-items: flex-start;"><span style="color: #4ecdc4; font-weight: 700; flex-shrink: 0;">2.</span><span style="font-size: 14px; color: #f0f4f8; line-height: 1.6;">Responded to a mid-session accessibility pivot within 5 minutes, adding keyboard navigation and ARIA labels.</span></div>
            <div style="display: flex; gap: 12px; align-items: flex-start;"><span style="color: #4ecdc4; font-weight: 700; flex-shrink: 0;">3.</span><span style="font-size: 14px; color: #f0f4f8; line-height: 1.6;">Produced 18 commits totaling 1,094 lines with 78% test coverage including jest-axe accessibility tests.</span></div>
            <div style="display: flex; gap: 12px; align-items: flex-start;"><span style="color: #4ecdc4; font-weight: 700; flex-shrink: 0;">4.</span><span style="font-size: 14px; color: #f0f4f8; line-height: 1.6;">Scored 4.2/5 overall across stack and trait dimensions, with accessibility quality rated 4.8/5.</span></div>
            <div style="display: flex; gap: 12px; align-items: flex-start;"><span style="color: #4ecdc4; font-weight: 700; flex-shrink: 0;">5.</span><span style="font-size: 14px; color: #f0f4f8; line-height: 1.6;">Identity verified via government ID + Loom screen recording throughout the session.</span></div>
          </div>
          <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 16px;">JSON-LD Preview</div>
          <div style="background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 20px; font-family: 'Courier New', monospace; font-size: 12px; color: #8899a6; line-height: 1.8; overflow-x: auto;">
<pre style="margin: 0; white-space: pre-wrap;">{
  "@context": "https://schema.org",
  "@type": "CreativeWork",
  "name": "Verified Proof ‚Äî Frontend React",
  "author": {
    "@type": "Person",
    "identifier": "MH-2841"
  },
  "dateCreated": "2026-02-10",
  "duration": "PT118M",
  "educationalLevel": "Senior",
  "skills": ["React", "TypeScript", "Accessibility", "CSS"],
  "assessment": {
    "overallScore": 4.2,
    "maxScore": 5,
    "dimensions": {
      "correctness": 4.2,
      "accessibility": 4.8,
      "codeClarity": 4.0,
      "ownership": 4.0,
      "problemSolving": 4.2,
      "communication": 4.6
    }
  },
  "verificationMethod": "MendelHire Verified Craft Badge",
  "evidenceCount": 18
}</pre>
          </div>
          <div style="margin-top: 16px; font-size: 13px; color: #8899a6; line-height: 1.6;">This factsheet is formatted for ATS ingestion and LLM-parseable structured data. All facts are verifiable against the proof session recording and commit history.</div>
        </div>
        <!-- PORTFOLIO TAB -->
        <div class="tab-content" id="tab-portfolio">
          <div style="text-align: center; margin-bottom: 24px;">
            <div style="font-size: 20px; font-weight: 700; color: #f0f4f8; margin-bottom: 8px;">Candidate Portfolio</div>
            <div style="font-size: 14px; color: #8899a6;">Shareable one-pager with privacy controls</div>
          </div>
          <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 12px;">Proof Gallery</div>
          <div style="display: flex; flex-direction: column; gap: 16px; margin-bottom: 24px;">
            <div style="background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 20px; display: flex; gap: 16px; align-items: center;">
              <div style="width: 48px; height: 48px; border-radius: 8px; background: linear-gradient(135deg, #3b82f6, #4ecdc4); display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0;">‚öõÔ∏è</div>
              <div style="flex: 1;">
                <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Frontend React ‚Äî Search + Accessibility Pivot</div>
                <div style="font-size: 13px; color: #8899a6; margin-top: 4px;">Score: 4.2/5 ‚Ä¢ 18 commits ‚Ä¢ Feb 2026</div>
              </div>
              <div class="verified-badge" style="font-size: 10px; padding: 4px 10px;">‚úì VERIFIED</div>
            </div>
            <div style="background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 20px; display: flex; gap: 16px; align-items: center;">
              <div style="width: 48px; height: 48px; border-radius: 8px; background: linear-gradient(135deg, #d4a843, #f4b860); display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0;">üß©</div>
              <div style="flex: 1;">
                <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">UI Component Library ‚Äî Design System Pivot</div>
                <div style="font-size: 13px; color: #8899a6; margin-top: 4px;">Score: 3.9/5 ‚Ä¢ 14 commits ‚Ä¢ Jan 2026</div>
              </div>
              <div class="verified-badge" style="font-size: 10px; padding: 4px 10px;">‚úì VERIFIED</div>
            </div>
            <div style="background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px; padding: 20px; display: flex; gap: 16px; align-items: center;">
              <div style="width: 48px; height: 48px; border-radius: 8px; background: linear-gradient(135deg, #8b5cf6, #3b82f6); display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0;">üìä</div>
              <div style="flex: 1;">
                <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Data Viz Dashboard ‚Äî Performance Pivot</div>
                <div style="font-size: 13px; color: #8899a6; margin-top: 4px;">Score: 4.0/5 ‚Ä¢ 16 commits ‚Ä¢ Dec 2025</div>
              </div>
              <div class="verified-badge" style="font-size: 10px; padding: 4px 10px;">‚úì VERIFIED</div>
            </div>
          </div>
          <div style="font-size: 14px; font-weight: 600; color: #f0f4f8; margin-bottom: 12px;">Proof Stack Timeline</div>
          <div style="position: relative; padding-left: 24px; border-left: 2px solid #1e2d3d; margin-bottom: 24px;">
            <div style="margin-bottom: 24px; position: relative;">
              <div style="position: absolute; left: -29px; top: 2px; width: 12px; height: 12px; border-radius: 50%; background: #4ecdc4; border: 2px solid #111d2e;"></div>
              <div style="font-size: 13px; color: #8899a6;">Feb 2026</div>
              <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Frontend React ‚Äî Search + Accessibility Pivot</div>
              <div style="font-size: 13px; color: #3b82f6;">4.2/5</div>
            </div>
            <div style="margin-bottom: 24px; position: relative;">
              <div style="position: absolute; left: -29px; top: 2px; width: 12px; height: 12px; border-radius: 50%; background: #3b82f6; border: 2px solid #111d2e;"></div>
              <div style="font-size: 13px; color: #8899a6;">Jan 2026</div>
              <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">UI Component Library ‚Äî Design System Pivot</div>
              <div style="font-size: 13px; color: #3b82f6;">3.9/5</div>
            </div>
            <div style="margin-bottom: 24px; position: relative;">
              <div style="position: absolute; left: -29px; top: 2px; width: 12px; height: 12px; border-radius: 50%; background: #3b82f6; border: 2px solid #111d2e;"></div>
              <div style="font-size: 13px; color: #8899a6;">Dec 2025</div>
              <div style="font-size: 14px; font-weight: 600; color: #f0f4f8;">Data Viz Dashboard ‚Äî Performance Pivot</div>
              <div style="font-size: 13px; color: #3b82f6;">4.0/5</div>
            </div>
          </div>
          <div style="display: flex; gap: 16px; padding: 16px; background: #0a1628; border: 1px solid #1e2d3d; border-radius: 8px;">
            <div style="flex: 1;">
              <div style="font-size: 12px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 8px;">Share Link</div>
              <div style="display: flex; gap: 8px;">
                <input type="text" class="form-input" value="https://mendelhire.com/portfolio/MH-2841" readonly style="flex: 1; font-size: 13px;">
                <button class="btn-secondary" style="padding: 8px 12px; font-size: 12px;">Copy</button>
              </div>
            </div>
            <div>
              <div style="font-size: 12px; font-weight: 600; color: #8899a6; text-transform: uppercase; letter-spacing: 0.3px; margin-bottom: 8px;">Privacy</div>
              <label class="toggle-switch">
                <span style="font-size: 13px; color: #8899a6;">Public</span>
                <div class="toggle-box active"><div class="toggle-dot"></div></div>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const appState = {
      currentPage: 'dashboard',
      sidebarCollapsed: false,
      anonMode: true,
      sessionRunning: false,
      proofTime: 0,
      totalProofTime: 120,
    };

    const candidates = [
      { id: 'MH-2841', name: 'Sarah Chen', challenge: 'Frontend React', status: 'FitFolio Ready', score: 4.2, wideners: ['Product Sense', 'Communication'], stack: 3, verified: true, avatar: 'SC' },
      { id: 'MH-2842', name: 'Marcus Johnson', challenge: 'Frontend React', status: 'Scored', score: 3.8, wideners: ['Collaboration', 'Diagnostics'], stack: 1, verified: true, avatar: 'MJ' },
      { id: 'MH-2843', name: 'Priya Patel', challenge: 'Frontend React', status: 'In Progress', score: null, wideners: ['Customer Empathy', 'Communication'], stack: 2, verified: false, avatar: 'PP' },
      { id: 'MH-2844', name: 'Alex Rivera', challenge: 'Data Python/SQL', status: 'FitFolio Ready', score: 4.5, wideners: ['Product Sense', 'Diagnostics'], stack: 2, verified: true, avatar: 'AR' },
      { id: 'MH-2845', name: 'Jordan Lee', challenge: 'Frontend React', status: 'In Progress (Live)', score: null, wideners: ['Communication', 'Collaboration'], stack: 1, verified: false, avatar: 'JL' },
    ];

    const commits = [
      { time: 3, msg: 'Initial setup: React + TypeScript scaffold', files: 5, lines: 120 },
      { time: 8, msg: 'feat: product data model and seed data', files: 2, lines: 85 },
      { time: 15, msg: 'feat: basic product list rendering', files: 3, lines: 92 },
      { time: 22, msg: 'feat: search input with onChange handler', files: 2, lines: 48 },
      { time: 28, msg: 'feat: implement debounce utility (300ms)', files: 1, lines: 24 },
      { time: 35, msg: 'feat: connect search filter to list rendering', files: 2, lines: 56 },
      { time: 42, msg: 'feat: add category filter dropdown', files: 3, lines: 71 },
      { time: 48, msg: 'feat: compose search + category filters', files: 2, lines: 38 },
      { time: 55, msg: 'test: unit tests for filter and debounce functions', files: 4, lines: 156 },
      { time: 58, msg: 'refactor: extract FilterContext for state management', files: 3, lines: 72 },
      { time: 60, msg: 'PIVOT: Add keyboard navigation and ARIA labels', files: 0, lines: 0, isPivot: true },
      { time: 65, msg: 'feat: keyboard nav for product list (arrow keys + Enter)', files: 3, lines: 84 },
      { time: 72, msg: 'feat: ARIA labels for search input and filter controls', files: 2, lines: 48 },
      { time: 80, msg: 'feat: focus management and skip-to-content link', files: 2, lines: 62 },
      { time: 88, msg: 'feat: screen reader announcements for filter results', files: 2, lines: 41 },
      { time: 95, msg: 'test: accessibility audit with jest-axe', files: 2, lines: 68 },
      { time: 105, msg: 'docs: update README with a11y decisions and tradeoffs', files: 1, lines: 94 },
      { time: 115, msg: 'fix: edge case ‚Äî empty search with active category filter', files: 1, lines: 18 },
      { time: 118, msg: 'chore: final cleanup and Loom recording link', files: 2, lines: 12 },
    ];

    document.addEventListener('DOMContentLoaded', function() {
      updateCurrentDate();
      populateCandidateTable();
      setupEventListeners();
      initializeHash();
    });

    function initializeHash() {
      const hash = window.location.hash.substring(1) || 'dashboard';
      navigateToPage(hash);
      window.addEventListener('hashchange', function() {
        const hash = window.location.hash.substring(1) || 'dashboard';
        navigateToPage(hash);
      });
    }

    function navigateToPage(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const pageEl = document.getElementById(`page-${page}`);
      if (pageEl) {
        pageEl.classList.add('active');
        appState.currentPage = page;
        document.querySelectorAll('.nav-item').forEach(item => {
          item.classList.remove('active');
          if (item.dataset.page === page) {
            item.classList.add('active');
          }
        });
        const titles = {
          'dashboard': 'Dashboard',
          'challenges': 'Challenges',
          'live-session': 'Live Proof Session',
          'candidates': 'Candidates',
          'fitfolio': 'FitFolio',
          'scoring': 'Scoring',
          'settings': 'Settings',
        };
        document.getElementById('pageTitle').textContent = titles[page] || 'Dashboard';
      }
    }

    function updateCurrentDate() {
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const today = new Date().toLocaleDateString('en-US', options);
      document.getElementById('currentDate').textContent = today;
    }

    function setupEventListeners() {
      document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', function() {
          const page = this.dataset.page;
          window.location.hash = page;
        });
      });

      document.getElementById('collapseToggle').addEventListener('click', function() {
        const sidebar = document.getElementById('sidebar');
        appState.sidebarCollapsed = !appState.sidebarCollapsed;
        sidebar.classList.toggle('collapsed');
      });

      document.getElementById('createChallengeBtn').addEventListener('click', function() {
        resetChallengeModal();
        document.getElementById('createChallengeModal').classList.add('active');
      });

      document.getElementById('closeModalBtn').addEventListener('click', function() {
        document.getElementById('createChallengeModal').classList.remove('active');
      });

      document.getElementById('cancelBtn').addEventListener('click', function() {
        document.getElementById('createChallengeModal').classList.remove('active');
      });

      document.getElementById('generateChallengeBtn').addEventListener('click', function() {
        const role = document.getElementById('roleSelect').value;
        if (!role) { document.getElementById('roleSelect').style.borderColor = '#ff6b6b'; return; }
        document.getElementById('roleSelect').style.borderColor = '';
        generateChallenge(role);
      });

      document.getElementById('regenerateBtn').addEventListener('click', function() {
        const role = document.getElementById('roleSelect').value;
        generateChallenge(role);
      });

      document.getElementById('publishChallengeBtn').addEventListener('click', function() {
        document.getElementById('createChallengeModal').classList.remove('active');
        // Show a brief success notification
        const notif = document.createElement('div');
        notif.style.cssText = 'position: fixed; top: 80px; right: 32px; background: #4ecdc4; color: #0a1628; padding: 14px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; z-index: 2000; animation: fadeIn 0.3s ease;';
        notif.textContent = '‚úì Challenge published successfully';
        document.body.appendChild(notif);
        setTimeout(() => notif.remove(), 3000);
      });

      document.getElementById('startSessionBtn').addEventListener('click', startSession);
      document.getElementById('resetSessionBtn').addEventListener('click', resetSession);

      const fitfolioTabsEl = document.getElementById('fitfolioTabs');
      if (fitfolioTabsEl) {
        fitfolioTabsEl.querySelectorAll('.tab').forEach(tab => {
          tab.addEventListener('click', function() {
            const tabName = this.dataset.tab;
            fitfolioTabsEl.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            document.getElementById('fitfolioModal').querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(`tab-${tabName}`).classList.add('active');
          });
        });
      }

      document.getElementById('closeFitfolioModal').addEventListener('click', function() {
        document.getElementById('fitfolioModal').classList.remove('active');
      });

      document.getElementById('fitfolioModal').addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });

      document.getElementById('generateFitfolioBtn').addEventListener('click', function() {
        document.getElementById('fitfolioSuccessModal').classList.add('active');
      });

      document.getElementById('closeFitfolioSuccess').addEventListener('click', function() {
        document.getElementById('fitfolioSuccessModal').classList.remove('active');
      });

      document.querySelectorAll('.score-slider').forEach(slider => {
        slider.addEventListener('input', function() {
          this.parentElement.querySelector('.slider-value').textContent = this.value;
        });
      });

      document.getElementById('anonToggle').addEventListener('click', function() {
        appState.anonMode = !appState.anonMode;
        this.classList.toggle('active');
        populateCandidateTable();
      });

      document.getElementById('createChallengeModal').addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });

      document.getElementById('fitfolioSuccessModal').addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });
    }

    function populateCandidateTable() {
      const tbody = document.getElementById('candidateBody');
      tbody.innerHTML = '';
      candidates.forEach(candidate => {
        const row = document.createElement('tr');
        const displayName = appState.anonMode ? candidate.id : candidate.name;
        const statusBadge = { 'FitFolio Ready': 'badge-success', 'Scored': 'badge-primary', 'In Progress': 'badge-warning', 'In Progress (Live)': 'badge-warning' }[candidate.status] || 'badge-gray';
        row.innerHTML = `
          <td>${displayName}</td>
          <td>${candidate.challenge}</td>
          <td><span class="badge ${statusBadge}">${candidate.status}</span></td>
          <td>${candidate.score ? `<strong>${candidate.score}/5</strong>` : '<span class="text-muted">‚Äî</span>'}</td>
          <td><div style="display: flex; gap: 6px; flex-wrap: wrap;">${candidate.wideners.map(w => `<div class="stack-tag" style="font-size: 11px;">${w.split(' ')[0]}</div>`).join('')}</div></td>
          <td>${candidate.stack}</td>
          <td>${candidate.verified ? '<span class="badge badge-success">‚úì</span>' : '<span class="badge badge-warning">Pending</span>'}</td>
          <td>${candidate.status === 'FitFolio Ready' ? `<button class="btn-secondary" style="padding: 6px 10px; font-size: 12px;" onclick="openFitfolio('${candidate.id}', '${candidate.name}', '${candidate.avatar}', '${candidate.challenge}', ${candidate.score})">View</button>` : '‚Äî'}</td>
        `;
        tbody.appendChild(row);
      });
    }

    function startSession() {
      appState.sessionRunning = true;
      appState.proofTime = 0;
      document.getElementById('startSessionBtn').style.display = 'none';
      document.getElementById('pauseSessionBtn').style.display = 'inline-block';
      document.getElementById('commitFeed').innerHTML = '';

      const tick = setInterval(() => {
        if (appState.sessionRunning) {
          appState.proofTime += 0.4;
          const percent = (appState.proofTime / appState.totalProofTime) * 100;
          document.getElementById('timelineProgress').style.width = percent + '%';
          document.getElementById('timelineTime').textContent = Math.floor(appState.proofTime) + ' min';
          const remaining = Math.max(0, appState.totalProofTime - appState.proofTime);
          document.getElementById('timeRemaining').textContent = Math.round(remaining) + 'm';
          const phase = appState.proofTime >= 60 ? 'Post-Pivot' : 'Pre-Pivot';
          document.getElementById('phase').textContent = phase;
          const displayedCommits = commits.filter(c => c.time <= appState.proofTime);
          updateCommitFeed(displayedCommits);
          document.getElementById('commitCount').textContent = displayedCommits.length;
          const totalLines = displayedCommits.reduce((sum, c) => sum + c.lines, 0);
          document.getElementById('linesChanged').textContent = totalLines;
          let coverage = 0;
          if (appState.proofTime > 55) coverage = Math.min(78, (appState.proofTime - 55) * 2.6);
          document.getElementById('testCoverage').style.width = coverage + '%';
          document.getElementById('testCoveragePercent').textContent = Math.round(coverage) + '%';
          if (appState.proofTime >= appState.totalProofTime) {
            clearInterval(tick);
            appState.sessionRunning = false;
            document.getElementById('pauseSessionBtn').style.display = 'none';
            document.getElementById('startSessionBtn').style.display = 'inline-block';
            showProofCompleted();
          }
        }
      }, 100);

      document.getElementById('pauseSessionBtn').addEventListener('click', function pauseClick() {
        appState.sessionRunning = false;
        this.textContent = 'Resume';
        this.removeEventListener('click', pauseClick);
        this.addEventListener('click', function resumeClick() {
          appState.sessionRunning = true;
          this.textContent = 'Pause';
          this.removeEventListener('click', resumeClick);
          this.addEventListener('click', pauseClick);
        });
      });
    }

    function resetSession() {
      appState.sessionRunning = false;
      appState.proofTime = 0;
      document.getElementById('startSessionBtn').style.display = 'inline-block';
      document.getElementById('pauseSessionBtn').style.display = 'none';
      document.getElementById('pauseSessionBtn').textContent = 'Pause';
      document.getElementById('commitFeed').innerHTML = '<div style="padding: 16px; text-align: center; color: #8899a6;">Click "Start Session" below to begin streaming commits...</div>';
      document.getElementById('timelineProgress').style.width = '0%';
      document.getElementById('timelineTime').textContent = '0 min';
      document.getElementById('timeRemaining').textContent = '120m';
      document.getElementById('phase').textContent = 'Pre-Pivot';
      document.getElementById('commitCount').textContent = '0';
      document.getElementById('linesChanged').textContent = '0';
      document.getElementById('testCoverage').style.width = '0%';
      document.getElementById('testCoveragePercent').textContent = '0%';
    }

    function updateCommitFeed(displayedCommits) {
      const feed = document.getElementById('commitFeed');
      feed.innerHTML = '';
      displayedCommits.forEach(commit => {
        const item = document.createElement('div');
        item.className = 'commit-item' + (commit.isPivot ? ' pivot-marker' : '');
        const statsText = !commit.isPivot ? `+${commit.lines} lines ‚Ä¢ ${commit.files} files` : '';
        item.innerHTML = `
          <div class="commit-marker"></div>
          <div class="commit-content">
            ${commit.isPivot ? '<div class="pivot-label">üîÑ Pivot Triggered</div>' : ''}
            <div class="commit-time">${commit.time}m</div>
            <div class="commit-msg">${commit.msg}</div>
            <div class="commit-stats">${statsText}</div>
          </div>
        `;
        feed.appendChild(item);
      });
    }

    function showProofCompleted() {
      const feed = document.getElementById('commitFeed');
      feed.innerHTML = `
        <div style="padding: 32px; text-align: center; background: rgba(78, 205, 196, 0.1); border-radius: 8px;">
          <div style="font-size: 48px; margin-bottom: 16px;">‚úì</div>
          <div style="font-size: 18px; font-weight: 700; color: #f0f4f8; margin-bottom: 8px;">Proof Submitted</div>
          <div style="font-size: 13px; color: #8899a6; margin-bottom: 24px;">All acceptance criteria met ‚Ä¢ Code verified ‚Ä¢ Identity confirmed</div>
          <div class="verified-badge" style="display: inline-block; margin-bottom: 24px;">‚úì VERIFIED CRAFT</div>
          <button class="btn-primary" onclick="window.location.hash='scoring'">Proceed to Scoring ‚Üí</button>
        </div>
      `;
    }

    function resetChallengeModal() {
      document.getElementById('challengeStep1').style.display = 'block';
      document.getElementById('challengeStep2').style.display = 'none';
      document.getElementById('challengeStep3').style.display = 'none';
      document.getElementById('roleSelect').value = '';
      document.getElementById('focusInput').value = '';
    }

    const challengeTemplates = {
      frontend: {
        title: 'Frontend React ‚Äî Search + Accessibility Pivot',
        stack: 'React, TypeScript, CSS',
        brief: 'Build a product list component with client-side search and category filter. The component should handle a dataset of 50+ items with real-time filtering. At minute 60, the pivot is triggered: add full keyboard navigation and ARIA labels for all interactive controls.',
        criteria: '‚Ä¢ Real-time search filters products by name and description\n‚Ä¢ Category filter composes cleanly with search (both active simultaneously)\n‚Ä¢ Keyboard navigation: Tab, Shift+Tab, Enter, Arrow keys work across all controls\n‚Ä¢ ARIA labels on search input, category dropdown, and result list\n‚Ä¢ Basic unit tests for filter logic and debounce function\n‚Ä¢ README documents accessibility decisions and tradeoffs',
        pivot: 'At 60 minutes: "Add keyboard navigation and ARIA labels for all controls. Focus on accessibility best practices. Justify your implementation choices in the README."',
        rubricStack: ['Correctness & edge-case handling', 'Accessibility quality (ARIA, keyboard nav)', 'Code clarity and component structure']
      },
      backend: {
        title: 'Backend API ‚Äî Rate Limiter + Auth Pivot',
        stack: 'Node.js, Express, PostgreSQL',
        brief: 'Design and implement a RESTful API for a task management system with CRUD operations, input validation, and error handling. At minute 60, the pivot is triggered: add token-based rate limiting per user with configurable thresholds.',
        criteria: '‚Ä¢ CRUD endpoints for tasks (create, read, update, delete)\n‚Ä¢ Input validation with clear error messages and proper HTTP status codes\n‚Ä¢ Rate limiter tracks requests per token with sliding window\n‚Ä¢ Configurable rate limits (requests per minute, burst allowance)\n‚Ä¢ Integration tests for happy path and rate limit scenarios\n‚Ä¢ README documents API design decisions',
        pivot: 'At 60 minutes: "Implement token-based rate limiting. Each API token gets 100 requests per minute with a burst allowance of 20. Return 429 with Retry-After header when exceeded."',
        rubricStack: ['API design and REST conventions', 'Rate limiting correctness', 'Error handling and validation quality']
      },
      fullstack: {
        title: 'Full-Stack ‚Äî Real-time Dashboard + WebSocket Pivot',
        stack: 'React, Node.js, WebSocket',
        brief: 'Build a metrics dashboard that displays data from an API with charts and filters. Start with polling-based updates. At minute 60, the pivot is triggered: migrate to WebSocket for real-time streaming updates.',
        criteria: '‚Ä¢ Dashboard displays at least 3 metric types with visual charts\n‚Ä¢ Filters allow narrowing by date range and metric type\n‚Ä¢ WebSocket connection with automatic reconnection on disconnect\n‚Ä¢ Real-time updates reflect in charts within 500ms\n‚Ä¢ Loading states and error boundaries handle edge cases\n‚Ä¢ README compares polling vs WebSocket tradeoffs',
        pivot: 'At 60 minutes: "Replace polling with WebSocket for real-time updates. Handle connection drops gracefully with exponential backoff reconnection. Show connection status indicator."',
        rubricStack: ['Frontend component architecture', 'WebSocket implementation quality', 'Data flow and state management']
      },
      data: {
        title: 'Data Analysis ‚Äî Retention Cohorts + Pivot Redefinition',
        stack: 'Python, SQL, Pandas',
        brief: 'Analyze a CSV of user events to produce a monthly cohort retention chart and 5 key insights. At minute 60, the pivot is triggered: redefine cohorts by first paid event instead of signup date, update all analysis.',
        criteria: '‚Ä¢ Monthly cohort retention table and visualization\n‚Ä¢ 5 concise, actionable insights from the data\n‚Ä¢ Reproducible analysis steps in notebook\n‚Ä¢ Pivot: cohorts redefined by first paid event with delta notes\n‚Ä¢ Clear documentation of methodology and assumptions\n‚Ä¢ At least 1 caveat about data quality or limitations',
        pivot: 'At 60 minutes: "Redefine cohorts by first paid event instead of first seen. Update the retention chart. Note what changed and what stayed the same."',
        rubricStack: ['Data cleaning and analysis quality', 'Visualization clarity', 'Insight depth and actionability']
      },
      devops: {
        title: 'Infrastructure ‚Äî CI Pipeline + Rollback Pivot',
        stack: 'Docker, GitHub Actions, Terraform',
        brief: 'Set up a CI/CD pipeline for a microservice: containerize the app, write a multi-stage Dockerfile, and create GitHub Actions workflow for build/test/deploy. At minute 60, add automated rollback on health check failure.',
        criteria: '‚Ä¢ Multi-stage Dockerfile with optimized image size\n‚Ä¢ GitHub Actions workflow: lint, test, build, deploy stages\n‚Ä¢ Health check endpoint and automated verification\n‚Ä¢ Rollback mechanism triggers on failed health check\n‚Ä¢ Pipeline runs in under 5 minutes end-to-end\n‚Ä¢ README documents deployment strategy and rollback behavior',
        pivot: 'At 60 minutes: "Add automated rollback. If the health check fails within 2 minutes of deployment, automatically revert to the previous version and alert via webhook."',
        rubricStack: ['Container and pipeline design', 'Rollback mechanism correctness', 'Infrastructure-as-code quality']
      },
      'ai-ml': {
        title: 'AI/ML ‚Äî Classification Pipeline + Drift Detection Pivot',
        stack: 'Python, scikit-learn, Pandas',
        brief: 'Build a text classification pipeline: data preprocessing, feature extraction, model training, and evaluation. At minute 60, add a data drift detection module that flags when incoming data distribution shifts beyond a configurable threshold.',
        criteria: '‚Ä¢ End-to-end classification pipeline with train/test split\n‚Ä¢ At least 2 model comparisons with metrics (precision, recall, F1)\n‚Ä¢ Drift detector uses statistical test (KS, PSI, or chi-squared)\n‚Ä¢ Configurable threshold with clear alerting mechanism\n‚Ä¢ Notebook documents model selection rationale\n‚Ä¢ Reproducible with pinned dependencies',
        pivot: 'At 60 minutes: "Add drift detection. Monitor incoming feature distributions against training data. Flag drift when PSI > 0.2 or KS test p-value < 0.05. Log drift reports."',
        rubricStack: ['ML pipeline correctness', 'Drift detection implementation', 'Evaluation methodology and documentation']
      }
    };

    function openFitfolio(id, name, avatar, challenge, score) {
      const displayName = appState.anonMode ? id : name;
      document.getElementById('fitfolioModalTitle').textContent = 'FitFolio ‚Äî ' + displayName;
      document.getElementById('fitfolioModal').classList.add('active');
      // Reset tabs to first tab
      const tabsEl = document.getElementById('fitfolioTabs');
      tabsEl.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      tabsEl.querySelector('.tab').classList.add('active');
      document.getElementById('fitfolioModal').querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      document.getElementById('tab-hm-card').classList.add('active');
    }

    function generateChallenge(role) {
      const template = challengeTemplates[role];
      if (!template) return;

      const focus = document.getElementById('focusInput').value;
      const timeCap = document.getElementById('timeCapSelect').value;
      const stipend = document.getElementById('stipendSelect').value;

      // Step 1 ‚Üí Step 2: Show generating animation
      document.getElementById('challengeStep1').style.display = 'none';
      document.getElementById('challengeStep2').style.display = 'block';
      document.getElementById('challengeStep3').style.display = 'none';

      const statusTexts = [
        'Analyzing role requirements',
        'Designing challenge brief',
        'Calibrating difficulty for seniority',
        'Generating acceptance criteria',
        'Crafting pivot specification',
        'Building rubric dimensions',
        'Finalizing challenge'
      ];
      let statusIndex = 0;
      const statusInterval = setInterval(() => {
        statusIndex++;
        if (statusIndex < statusTexts.length) {
          document.getElementById('aiStatusText').textContent = statusTexts[statusIndex];
        }
      }, 400);

      // After ~2.8 seconds, show the generated result
      setTimeout(() => {
        clearInterval(statusInterval);

        // Populate generated fields
        let title = template.title;
        if (focus) {
          title = title.split('‚Äî')[0].trim() + ' ‚Äî ' + focus.charAt(0).toUpperCase() + focus.slice(1) + ' Focus';
        }
        document.getElementById('genTitle').value = title;
        document.getElementById('genStack').value = template.stack;
        document.getElementById('genMeta').value = timeCap + ' ‚Ä¢ ' + stipend + ' stipend';
        document.getElementById('genBrief').value = template.brief;
        document.getElementById('genCriteria').value = template.criteria;
        document.getElementById('genPivot').value = template.pivot;

        // Populate rubric stack dimensions
        const rubricEl = document.getElementById('genRubricStack');
        rubricEl.innerHTML = template.rubricStack.map(d => '<div>‚Ä¢ ' + d + '</div>').join('');

        // Step 2 ‚Üí Step 3: Show the result
        document.getElementById('challengeStep2').style.display = 'none';
        document.getElementById('challengeStep3').style.display = 'block';
      }, 2800);
    }
  </script>
</body>
</html>
